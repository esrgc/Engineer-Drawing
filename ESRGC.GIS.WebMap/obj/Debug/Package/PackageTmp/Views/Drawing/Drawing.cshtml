@model ESRGC.GIS.Domain.Model.Drawing
@if (false)
{ 
    <script src="../../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="../../Scripts/bootstrap.min.js" type="text/javascript"></script>
}
@{ var drawing = Model; }
<div class="row-fluid">
    <div class="span12 well">
        <h1>Drawing</h1>
        
        <table class="table table-striped">
            <thead>
                <tr>
                    <td>ID #</td>
                    <td>Page</td>
                    <td>File Name</td>
                    <td>Last Revised</td>
                    <td>Last Scanned</td>
                    <td>Plan</td>
                    <td>Detail</td>
                    <td>Cross Section</td>
                    <td>Profile</td>
                    <td>Elevation</td>
                    <td>Location of Valve</td>
                    <td>Paper W & H</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>@drawing.DrawingId</td>
                    <td>@drawing.SheetNumber</td>
                    <td>@drawing.FileName</td>
                    <td>
                        @{ 
                            var lastRevised = drawing.DateLastRevised.HasValue ?
                                drawing.DateLastRevised.Value.ToShortDateString() :
                                "N/A"; 
                        }
                        @lastRevised  
                    </td>
                    <td>@drawing.DateLastIndexed</td>
                    <td>@{ var plan = drawing.Plan ? "Yes" : "";}@plan</td>
                    <td>@{ var detail = drawing.Detail ? "Yes" : "";}@detail</td>
                    <td>@{ var crossSec = drawing.CrossSection ? "Yes": "";}@crossSec</td>
                    <td>@{var profile = drawing.Profile ? "Yes" : "";}@profile</td>
                    <td>@{ var elevation = drawing.Elevation ? "Yes" : "";}@elevation</td>
                    <td>@{ var lov = drawing.LocationOfValve ? "Yes" : "";}@lov</td>                             
                    <td>@drawing.PaperWidth (W) x @drawing.PaperHeight (H)</td>
                            
                </tr>
            </tbody>
        </table>
        
    </div>
</div>
<div class="row-fluid">
    <div class="btn-toolbar" id="drawingToolbar">
        <div class="btn-group">
            <button name="selectArea" class="btn disabled" data-toggle="button" rel="tooltip"
                title="Enable select area on the drawing image.">
                <i class="icon-resize-full"></i> Select
             </button> 
        </div>
        <div class="btn-group" data-toggle="buttons-radio">
            <button name="selectMode" value="1to1" class="btn active disabled" rel="tooltip"
                title="Enable real scale selecting mode (Letter size 8 1/2 x 11). Drag the select box to interested area when select area mode is on.">
                1:1
            </button>
            <button name="selectMode" value="fit" class="btn disabled" rel="tooltip" 
                title="Enable dynamic scale selecting mode. Image of the selected area will be resized to fit to page. Click and drag on the image to select an area when select area mode is on.">
                Fit to page
            </button>
        </div>
        <div class="btn-group" data-toggle="buttons-radio">
            <button name="orientation" value="portrait" class="btn active disabled"
                    rel="tooltip" title="Orientation portrait">Portrait</button>        
            <button name="orientation" value="landscape" class="btn disabled"
                    rel="tooltip" title="Orientation landscape">Landscape</button>        
        </div>
        <div class="btn-group">            
            <button name="printTool" value="pdf" class="btn disabled" rel="tooltip"
                 title="Download PDF document">
                <i class="icon-download"></i> Download PDF
            </button>
            <button name="printTool" value="viewPdf" class="btn disabled" rel="tooltip" 
                title="View PDF document in browser">
                <i class="icon-eye-open"></i> View PDF
            </button>
            @*<button name="printTool" 
                data-loading-text="<img src='resources/images/ajax-loader-fb.gif' /> Printing.."
                value="print" class="btn disabled">
                <i class="icon-print"></i> Print
            </button>*@
            
        </div>
    </div>
</div>

<div class="row-fluid">
    <div class="span12 well">
        <div id="drawingContainer">
            @*<img id="drawingImage" src="@ViewBag.DrawingImageUrl" style="width: 100%; height: auto;" alt="drawing"/>*@
            
        </div>
    </div>
</div>
<div class="row-fluid">
    <div class="span12 well">
        <p>
            <a href="#gotoMap" class="btn btn-primary btn-large"><i class="icon-map-marker icon-white">
            </i> Back to map</a>
            <a href="#gotoContract" class="btn btn-primary btn-large"><i class="icon-file icon-white">
            </i> Back to contract</a>
        </p>  
    </div>
</div>
<input type="hidden" value="@ViewBag.DrawingImageUrl" id="imageUrl"/>

<!--Modal window showing drawing to print-->
@*<div class="modal fade hide" id="printModal">
    <div class="modal-header">
        <button class="close modalCloseBtn" type="button" data-dismiss="modal">x</button>
        <h3>Print drawing</h3>
    </div>
    <div class="modal-body">
        <div class="btn-group" data-toggle="buttons-radio">
          <button class="btn active">Portrait</button>
          <button class="btn">Landscape</button>
        </div>
        <div id="printDrwContainer">
        </div>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn modalCloseBtn" data-dismiss="modal">Close</a>
        <a href="#" class="btn btn-primary">Print</a>
    </div>
</div>*@
<script type="text/javascript">
    //$(document.createElement('img')).attr(
</script>